#!/bin/bash
# This program adjusts dimensions of selected pages of a pdf file to conform to the dimensions of the majority of the given file.
#
# Usage:
#    pdf-unifsize [file name] [first page to change] [last page to change] [representative page]

fname=$1
pgFirst=$2
pgLast=$3
pgNorm=$4

# cp $fname "$fname.bak"
dims=($(pdfinfo -box -f $pgNorm -l $pgNorm $fname\
            | grep "^Page" | grep size | awk '{ print $4, $6 }'))
cpdf -scale-to-fit "${dims[0]}pt ${dims[1]}pt" $fname $pgFirst-$pgLast -o $fname
